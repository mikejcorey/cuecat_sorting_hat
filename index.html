<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <style>
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
        }

        #sorting-form {
            position: absolute;
            bottom: 20px;
            width: 100%;
            text-align: center;
        }

        #announcement {
            position: relative;
            top: 50%;
            left: 0;
            margin: -32px 0;
            font-size: 64px;
            text-align: center;
        }
    </style>

</head>
<body>

    <form id="sorting-form">
        <input id="sorting-hat" type="text" placeholder="Abbacadabra etc. ..."/>
    </form>
    <div id="announcement"></div>

    <script src="./jquery-1.10.2.min.js"></script>
    <script>
        var match = false;
        var hatval = '';
        var interval;
        var houses = [
            {'upc': '5556792', 'house': 'djangopuff'},
            {'upc': 'bar', 'house': 'griffennull'}
        ];

        function checkHatValue(testvalue) {
            $.each(houses, function (key, obj) {
                if ($('#sorting-hat').val() == obj.upc) {
                    $('#announcement').html(obj.house.toUpperCase() + '!!!');
                    // set match to true so we know to 
                    match = true;
                };
            });
            
        };

        function matchValue () {
            if (match === true) {
                function x () {
                    alert('You found a match!');
                    window.location.reload();
                };
                setTimeout(x(), 5000);
            }
        };

        $(document).ready(function () {
            $("#sorting-form").submit(function( event ) {
                event.preventDefault();
            });
            $('#sorting-hat').focus();
            
            interval = setInterval(function() { 
                checkHatValue($('#input_id').val());

                matchValue();
            }, 100);

        });
    </script>
</body>
</html>
